<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="siteTitle">Sixty Seventy</title>
  <link id="siteFavicon" rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/5/59/Google_Classroom_Logo.png">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: 'Inter', Arial, sans-serif;
      text-transform: lowercase;
      overflow-x: hidden;
      scroll-behavior: smooth;
      transition: background-color 0.5s ease;
    }
    .light-theme {
      background: #fff;
      color: #000;
    }
    .light-theme .label, .light-theme p { color: #333; }
    .light-theme .gameButton { background: #ddd; }
    .light-theme #emergency, .light-theme #themeToggle, .light-theme #settingsBtn { border-color: #000; color: #000; }
    .light-theme #emergency:hover, .light-theme #themeToggle:hover, .light-theme #settingsBtn:hover { background: #000; color: #fff; }
    .light-theme .hover-text { background: rgba(255, 255, 255, 0.9); color: #000; }
    .gameButton {
      position: relative;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .gameButton:hover {
      transform: scale(1.12) rotate(2deg);
      box-shadow: 0 10px 20px rgba(255, 255, 255, 0.7);
    }
    .gameButton:focus {
      outline: 2px solid #fff;
      outline-offset: 2px;
    }
    .hover-text {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: normal;
      line-height: 1.5;
      padding: 12px;
      text-align: center;
      opacity: 0;
      transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      overflow: hidden;
    }
    .gameButton:hover .hover-text {
      opacity: 1;
    }
    #loadingScreen {
      background: #000;
      transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .loader {
      width: 36px;
      height: 36px;
      border: 4px solid #fff;
      border-top: 4px solid transparent;
      border-radius: 50%;
      animation: spin 0.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .modal, .settings-modal {
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(8px);
    }
    .modal-content, .settings-modal-content {
      transform: scale(0.85);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .modal-content.active, .settings-modal-content.active {
      transform: scale(1);
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.08); }
      100% { transform: scale(1); }
    }
    .pulse { animation: pulse 2.2s infinite; }
    .settings-input, .settings-select {
      background: #1a1a1a;
      color: #fff;
      border: 1px solid #666;
      padding: 8px;
      border-radius: 4px;
      width: 100%;
    }
    .light-theme .settings-input, .light-theme .settings-select {
      background: #f0f0f0;
      color: #000;
      border: 1px solid #333;
    }
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #000;
    }
    ::-webkit-scrollbar-thumb {
      background: #fff;
      border-radius: 8px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #ccc;
    }
  </style>
</head>
<body class="text-white">
  <div id="loadingScreen" class="fixed inset-0 flex flex-col items-center justify-center z-50">
    <div class="loader mb-4"></div>
    <div class="text-xl font-bold mb-2">loading (<span id="percent">0</span>%)</div>
    <div id="tip" class="text-gray-500 text-base animate-pulse"></div>
  </div>

  <button id="emergency" class="fixed top-4 left-4 bg-transparent border border-white text-white px-4 py-2 rounded-lg font-bold hover:bg-white hover:text-black transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white z-50" aria-label="Emergency Button">emergency</button>

  <button id="themeToggle" class="fixed top-4 right-12 bg-transparent border border-white text-white px-4 py-2 rounded-lg font-bold hover:bg-white hover:text-black transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white z-50" aria-label="Toggle Theme">‚òÄÔ∏è/üåô</button>

  <button id="settingsBtn" class="fixed top-4 right-4 bg-transparent border border-white text-white px-4 py-2 rounded-lg font-bold hover:bg-white hover:text-black transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white z-50" aria-label="Settings">‚öôÔ∏è</button>

  <div class="container mx-auto px-6 py-24">
    <div class="flex justify-center items-center mb-8">
      <img id="siteLogo" src="https://upload.wikimedia.org/wikipedia/commons/5/59/Google_Classroom_Logo.png" alt="Sixty Seventy Logo" class="logo w-12 h-12 sm:w-16 sm:h-16 mr-4">
      <h1 id="siteTitleDisplay" class="text-6xl font-bold text-center pulse">sixty seventy</h1>
    </div>
    <p class="text-lg text-gray-400 text-center mb-12">minimalist games, maximum fun.</p>

    <div id="buttonContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-12 pb-24">
    </div>
  </div>

  <div id="emergencyModal" class="fixed inset-0 hidden modal flex items-center justify-center z-50">
    <div class="modal-content bg-black p-10 rounded-xl shadow-2xl max-w-sm w-full text-center">
      <h2 class="text-3xl font-bold mb-4">emergency action</h2>
      <p class="text-gray-300 mb-6">leave sixtyseventy and launch clever?</p>
      <div class="flex justify-center gap-4 mb-4">
        <button id="modalConfirm" class="bg-transparent border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-white">yes</button>
        <button id="modalCancel" class="bg-transparent border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-white">no</button>
      </div>
      <label class="flex items-center justify-center gap-2 text-gray-300 text-sm">
        <input type="checkbox" id="alwaysYes" class="h-4 w-4 text-white border-gray-300 focus:ring-white" aria-label="Always launch Clever automatically">
        <span>always yes (will save option)</span>
      </label>
    </div>
  </div>

  <div id="settingsModal" class="fixed inset-0 hidden settings-modal flex items-center justify-center z-50">
    <div class="settings-modal-content bg-black p-10 rounded-xl shadow-2xl max-w-md w-full text-center">
      <h2 class="text-3xl font-bold mb-4">settings</h2>
      <div class="mb-4">
        <label for="customTitle" class="block text-gray-300 mb-2">site title</label>
        <input type="text" id="customTitle" class="settings-input" placeholder="Enter site title" aria-label="Custom site title">
      </div>
      <div class="mb-4">
        <label for="faviconSelect" class="block text-gray-300 mb-2">choose favicon</label>
        <select id="faviconSelect" class="settings-select" aria-label="Select favicon">
          <option value="https://upload.wikimedia.org/wikipedia/commons/5/59/Google_Classroom_Logo.png">Google Classroom</option>
          <option value="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Roblox_Logo.svg/512px-Roblox_Logo.svg.png">Roblox</option>
          <option value="https://via.placeholder.com/32">Placeholder 1</option>
          <option value="https://via.placeholder.com/32/000000/FFFFFF">Placeholder 2</option>
        </select>
      </div>
      <div class="mb-6">
        <label for="customFavicon" class="block text-gray-300 mb-2">custom favicon url</label>
        <input type="text" id="customFavicon" class="settings-input" placeholder="Enter favicon URL" aria-label="Custom favicon URL">
      </div>
      <div class="flex justify-center gap-4">
        <button id="settingsSave" class="bg-transparent border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-white">save</button>
        <button id="settingsCancel" class="bg-transparent border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-white">cancel</button>
      </div>
    </div>
  </div>

  <script>
    const games = [
      {
        name: "paper.io",
        file: "paperio.html",
        img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzMHrFL5NXGpV_GyYaRRZ7FO0wduuffQ20WKE8aZ2JlGDCwAKpEjjEuntZMcmF0y-25rI&usqp=CAU",
        description: "paper.io is a simple online game where you control a colored square to claim territory by drawing lines. connect your line back to your area to capture space, but if another player hits your line while drawing, you lose. goal: cover as much of the map as possible."
      },
      {
        name: "2048",
        file: "2048.html",
        img: "https://play-lh.googleusercontent.com/5JrXBphEEsLGqTbdEUKzmfjT2QWuQOI_CwU7r6G53SBNRrSRj1VFL4CY6Ue19z9irYQr",
        description: "2048 is a simple puzzle game where you slide numbered tiles on a 4x4 grid. The goal is to combine tiles with the same numbers to create a tile with the number 2048. You move tiles up, down, left, or right, and when two tiles with the same number touch, they merge into one tile with double the value"
      },
    ];

    const tips = [
      "sixty seventy!",
    ];

    const loadingScreen = document.getElementById("loadingScreen");
    const percentText = document.getElementById("percent");
    const tipText = document.getElementById("tip");
    const buttonContainer = document.getElementById("buttonContainer");
    const emergencyBtn = document.getElementById("emergency");
    const themeToggle = document.getElementById("themeToggle");
    const settingsBtn = document.getElementById("settingsBtn");
    const modal = document.getElementById("emergencyModal");
    const modalContent = document.querySelector(".modal-content");
    const modalConfirm = document.getElementById("modalConfirm");
    const modalCancel = document.getElementById("modalCancel");
    const alwaysYesCheckbox = document.getElementById("alwaysYes");
    const settingsModal = document.getElementById("settingsModal");
    const settingsModalContent = document.querySelector(".settings-modal-content");
    const customTitle = document.getElementById("customTitle");
    const faviconSelect = document.getElementById("faviconSelect");
    const customFavicon = document.getElementById("customFavicon");
    const settingsSave = document.getElementById("settingsSave");
    const settingsCancel = document.getElementById("settingsCancel");
    const siteTitle = document.getElementById("siteTitle");
    const siteTitleDisplay = document.getElementById("siteTitleDisplay");
    const siteFavicon = document.getElementById("siteFavicon");

    let percent = 0;
    const updateLoading = () => {
      percent += Math.floor(Math.random() * 3) + 2;
      if (percent > 100) percent = 100;
      percentText.textContent = percent;
      if (percent % 20 === 0) tipText.textContent = tips[Math.floor(Math.random() * tips.length)];
      if (percent >= 100) {
        clearInterval(loadingInterval);
        setTimeout(() => {
          loadingScreen.style.opacity = "0";
          setTimeout(() => loadingScreen.remove(), 1200);
        }, 400);
      }
    };
    const loadingInterval = setInterval(updateLoading, 60);

    const createGameButton = ({ name, file, img, description }) => {
      const div = document.createElement("div");
      div.className = "flex flex-col items-center";
      div.innerHTML = `
        <button class="gameButton w-56 h-56 rounded-3xl overflow-hidden shadow-lg bg-gray-900 relative" data-file="${file}" aria-label="Play ${name}, ${description}">
          <img src="${img}" alt="${name}" class="w-full h-full object-cover rounded-3xl lazy" loading="lazy" onerror="this.src='data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=='">
          <div class="hover-text">${description}</div>
        </button>
        <div class="label text-lg font-semibold mt-4">${name}</div>
      `;
      buttonContainer.appendChild(div);
    };
    games.forEach(createGameButton);

    const openGame = (fileName) => {
      const newTab = window.open("about:blank", "_blank");
      fetch(fileName)
        .then(res => {
          if (!res.ok) throw new Error("Game not found");
          return res.text();
        })
        .then(html => {
          newTab.document.open();
          newTab.document.write(html);
          newTab.document.close();
        })
        .catch(() => {
          newTab.document.write(`
            <div style="background: #000; color: #fff; height: 100vh; display: flex; align-items: center; justify-content: center; font-family: Inter, Arial;">
              <h1>game not found. try another.</h1>
            </div>
          `);
        });
    };

    const openClever = () => {
      window.open("https://clever.com", "_blank");
    };

    const loadSettings = () => {
      const savedTitle = localStorage.getItem("siteTitle");
      const savedFavicon = localStorage.getItem("siteFavicon");
      if (savedTitle) {
        siteTitle.textContent = savedTitle;
        siteTitleDisplay.textContent = savedTitle;
      }
      if (savedFavicon) {
        siteFavicon.href = savedFavicon;
      }
    };
    loadSettings();

    buttonContainer.addEventListener("click", (e) => {
      const btn = e.target.closest(".gameButton");
      if (btn) openGame(btn.getAttribute("data-file"));
    });

    emergencyBtn.addEventListener("click", () => {
      if (localStorage.getItem("alwaysLaunchClever") === "true") {
        openClever();
      } else {
        modal.classList.remove("hidden");
        setTimeout(() => modalContent.classList.add("active"), 10);
      }
    });

    modalConfirm.addEventListener("click", () => {
      if (alwaysYesCheckbox.checked) {
        localStorage.setItem("alwaysLaunchClever", "true");
      }
      openClever();
      modalContent.classList.remove("active");
      setTimeout(() => modal.classList.add("hidden"), 400);
    });

    modalCancel.addEventListener("click", () => {
      modalContent.classList.remove("active");
      setTimeout(() => modal.classList.add("hidden"), 400);
    });

    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("light-theme");
      themeToggle.textContent = document.body.classList.contains("light-theme") ? "üåô" : "‚òÄÔ∏è";
    });

    settingsBtn.addEventListener("click", () => {
      customTitle.value = siteTitle.textContent;
      customFavicon.value = "";
      settingsModal.classList.remove("hidden");
      setTimeout(() => settingsModalContent.classList.add("active"), 10);
    });

    settingsSave.addEventListener("click", () => {
      const newTitle = customTitle.value.trim();
      const newFavicon = customFavicon.value.trim() || faviconSelect.value;
      if (newTitle) {
        siteTitle.textContent = newTitle;
        siteTitleDisplay.textContent = newTitle;
        localStorage.setItem("siteTitle", newTitle);
      }
      if (newFavicon) {
        const img = new Image();
        img.onload = () => {
          siteFavicon.href = newFavicon;
          localStorage.setItem("siteFavicon", newFavicon);
        };
        img.onerror = () => {
          siteFavicon.href = "https://upload.wikimedia.org/wikipedia/commons/5/59/Google_Classroom_Logo.png";
          localStorage.setItem("siteFavicon", siteFavicon.href);
        };
        img.src = newFavicon;
      }
      settingsModalContent.classList.remove("active");
      setTimeout(() => settingsModal.classList.add("hidden"), 400);
    });

    settingsCancel.addEventListener("click", () => {
      settingsModalContent.classList.remove("active");
      setTimeout(() => settingsModal.classList.add("hidden"), 400);
    });

    document.querySelectorAll(".gameButton, #emergency, #themeToggle, #settingsBtn, #modalConfirm, #modalCancel, #alwaysYes, #settingsSave, #settingsCancel").forEach(btn => {
      btn.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          btn.click();
        }
      });
    });
  </script>
</body>
</html>
